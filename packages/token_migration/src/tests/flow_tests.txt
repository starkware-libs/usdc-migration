Basic flows
1. User swap threshold + x legacy, then swap x new back to legacy
3. end to end: swaps, send to L1, swap (and fail), get money, swap and aucceed
4. swap/reverse swap fail (not enough money in contract), gets money from reverse swap/swap, try again and succeed
6. User just transfer money, then swap - what do we want to test here?

Send to L1
1. A small swap triggers the threshold
2. Remainder after threshold
3. More than one send to l1 in one tx
4. Sends not above the MAX
5. Sends all legacy to L1 (function), then swap should fail

Set threshold
1. send to L1 after decrease threshold
2. not send to L1 in set threshold if not needed
3. start with the large batch size, then change to the small batch size, check send to L1

Approve to owner
1. Withdraw all/part of legacy/new

Upgrade
1. some swaps, send to L1, upgrade, cant swap/do anything